(this["webpackJsonpgoatflix-app"]=this["webpackJsonpgoatflix-app"]||[]).push([[0],{60:function(t,e){t.exports=function(t){return void 0===t||null===t||"object"===typeof t&&0===Object.keys(t).length||"string"===typeof t&&0===t.trim().length}},99:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),a=n(37),o=n.n(a),c=n(19),s=n(26),d=n(59),l="SET_ACTIVE_USER",b="SET_ERRORS",u="SET_FAVORITE",p="ADD_FAVORITE",h="DELETE_FAVORITE",m="SET_MOVIE_LIST",j="SET_TV_LIST",g="SET_LIST_PAGE",f="SET_LIST_SEARCH",v="SET_LIST_SORT",O="LOADING_LIST",x="LOADING_MORE",y="ADD_TO_LIST",w={},k=n(24),S=n(7),R={favorite:[]},A={movies:[],page:1,searchQuery:"",loading:!1,loadingMore:!1,sortBy:"popularity.desc"},C=n(60),_=n.n(C),E={isAuthenticated:!1,user:{}},M=Object(s.c)({favorite:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(S.a)(Object(S.a)({},t),{},{favorite:e.payload});case p:return Object(S.a)(Object(S.a)({},t),{},{favorite:[e.payload].concat(Object(k.a)(t.favorite))});case h:return Object(S.a)(Object(S.a)({},t),{},{favorite:[].concat(Object(k.a)(t.favorite.filter((function(t){return t.id!==e.payload}))),Object(k.a)(t.favorite.filter((function(t){return t.id!==e.payload}))))});default:return t}},errors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return e.payload;default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return Object(S.a)(Object(S.a)({},t),{},{isAuthenticated:!_()(e.payload),user:e.payload});default:return t}},list:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(S.a)(Object(S.a)({},t),{},{loading:!0});case x:return Object(S.a)(Object(S.a)({},t),{},{loadingMore:!0});case m:return Object(S.a)(Object(S.a)({},t),{},{movies:e.payload.results,totalPages:e.payload.total_pages,loading:!1});case j:return Object(S.a)(Object(S.a)({},t),{},{tv:e.payload.results,totalPages:e.payload.total_pages,loading:!1});case y:return Object(S.a)(Object(S.a)({},t),{},{movies:[].concat(Object(k.a)(t.movies),Object(k.a)(e.payload.results)),tv:[].concat(Object(k.a)(t.tv),Object(k.a)(e.payload.results)),loadingMore:!1,page:t.page+1});case g:return Object(S.a)(Object(S.a)({},t),{},{page:e.payload});case f:return Object(S.a)(Object(S.a)({},t),{},{searchQuery:e.payload});case v:return Object(S.a)(Object(S.a)({},t),{},{sortBy:e.payload});default:return t}}}),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,L=Object(s.e)(M,{},T(Object(s.a)(d.a))),I=n(101),z=n(64),U=n(10),D=n(9),F=n(39),N=n(15),G=n.n(N),V=function(t){t?G.a.defaults.headers.common.Authorization=t:delete G.a.defaults.headers.common.Authorization},Z=function(t){return{type:l,payload:t}},J=function(t){return function(e){localStorage.removeItem("jwtToken"),V(!1),e(Z({})),t.push("/")}},Y=n(21),W=n.n(Y),X=n(29),P=n(40),Q=n(65),B=n(100);var H,q,K,$,tt,et,nt,rt,it,at,ot,ct,st,dt,lt,bt,ut,pt,ht,mt,jt,gt,ft,vt,Ot,xt,yt,wt,kt,St,Rt,At,Ct,_t,Et,Mt,Tt,Lt,It,zt=n(2),Ut=n(3),Dt="#ffb500",Ft="#464646",Nt=Ut.b.div(H||(H=Object(zt.a)(["\n\tmargin: 0 auto;\n\tdisplay: grid;\n\tjustify-content: center;\n\tpadding: 4rem;\n\tgrid-template-columns: repeat(5, 1fr);\n\tgrid-template-rows: repeat(4, 3fr);\n\tgrid-column-gap: 3rem;\n\tgrid-row-gap: 3rem;\n\tmax-width: 1080px;\n\t@media (max-width: 1020px) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t}\n\t@media (max-width: 820px) {\n\t\tgrid-template-columns: repeat(3, 1fr);\n\t}\n\t@media (max-width: 620px) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\t@media (max-width: 420px) {\n\t\tgrid-template-columns: repeat(1, 1fr);\n\t}\n"]))),Gt=Ut.b.div(q||(q=Object(zt.a)(["\n\tdisplay: inline-block;\n\tbackground: rgba(, 0, 0, 0.6);\n\tborder-radius: 3px;\n\tcolor: #ffb500;\n\tpadding: 0.2rem 0.4rem;\n\tmargin: 0.1rem;\n\ttext-align: center;\n"]))),Vt=Ut.b.div(K||(K=Object(zt.a)(["\n\tmargin-top: 0.2rem;\n\ttext-align: center;\n"]))),Zt=Ut.b.div($||($=Object(zt.a)(["\n\tdisplay: inline-block;\n\tfont-size: 0.9rem;\n\tmargin: 0 auto 5rem;\n\tpadding: 1rem;\n\twidth: 150px;\n\tborder-radius: 22px;\n\tbackground: #111;\n\ttransition: 0.3s;\n\tcolor: ",";\n\tcursor: ",";\n\n\t&:hover {\n\t\tcolor: ",";\n\t}\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"])),(function(t){return t.loading?Ft:Dt}),(function(t){return t.loading?"wait":"pointer"}),(function(t){return t.loading?Ft:"#fff"})),Jt=Ut.b.div(tt||(tt=Object(zt.a)(["\n\th4 {\n\t\tmargin: 1rem;\n\t\t","\n\t\tfont-size: 1.4rem;\n\t\tcolor: rgba(255, 255, 255)\n\t}\n\tborder-radius: 10px;\n\twidth: 75%;\n\theight: 75%;\n\tmargin-top: 2.5rem;\n\t","\n\tdisplay: inline-block;\n\tpadding: 1rem;\n"])),"",""),Yt=Ut.b.button(et||(et=Object(zt.a)(["\n\tfont-size: 1.2rem;\n\tfont-weight: bold;\n\tbackground: rgba(30, 30, 30);\n\twidth: 15%;\n\theight: 40px;\n\tborder-radius: 10px;\n\tborder: none;\n\tmargin: 0.5rem;\n\tcolor: #ffb500;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n\t",";\n"])),(function(t){return t.active&&"color: #ffb500"})),Wt=n(0),Xt=function(t){var e=t.sortBy,n=t.setSortBy;return Object(Wt.jsxs)(Jt,{children:[Object(Wt.jsx)("h4",{children:"Sort by:"}),Object(Wt.jsx)(Yt,{active:"popularity.desc"===e,onClick:function(){return n("popularity.desc")},children:"most popular"}),Object(Wt.jsx)(Yt,{active:"release_date.desc"===e,onClick:function(){return n("release_date.desc")},children:"newest"}),Object(Wt.jsx)(Yt,{active:"vote_average.desc"===e,onClick:function(){return n("vote_average.desc")},children:"top rated"})]})},Pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAEWCAMAAAANTsbhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTQ1QzEyMzcxREJFMTFFOUE2MDlFQkVCQkQ2MDVCM0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTQ1QzEyMzgxREJFMTFFOUE2MDlFQkVCQkQ2MDVCM0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDVDMTIzNTFEQkUxMUU5QTYwOUVCRUJCRDYwNUIzQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNDVDMTIzNjFEQkUxMUU5QTYwOUVCRUJCRDYwNUIzQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr1buU8AAAAYUExURRwcHDs7OysrKxEREUJCQjMzMyQkJEZGRpRkSVQAAAJYSURBVHja7NvhbsMgDEZR2wHy/m+8tVMXuq1tNPExPF3/jZSeUscGUmzLGoYcOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR478V7eMcN9v4R7NEshbHOYuXIAfecdWy/4wqq0qt3jCvkSpS8qtvnBf7bac3Op+KkpbTd72s9FWy5Zymm6LyeO0vCwmt3udR9hHvNf3L79HLFZbjke0fms6zSX5Mqoq3nrlz1f7ca9ryTe/tBp7dvkzFpO3Eq++2eDKOGuW2yVMzSXvCmdJJu+6VTZ5HVwX58kjrdwGt1HkJ4Ix/0N5SyZvVMXpcs/aQ48097Qzrsgl72a5lkt+LKR9SyWPZVfQp2v5sCGfI2+KTS6bDI8tkbyH+5ZILoLr5SGCy+VVBVfLdXCx3HVwqdyUcKX8bu/Zt0RyF2yaT5G7pHNOkFfNu0S9PNRwlbx7OovqI0S5UtRwkdzUqSKTH0Mug4vkRVjHpXIb/5Z/kjz0uSKS1wlDrpG7sOlr5eP/hjNbvmWTm2xOjvz/ygM58kUCOXLkyJEjf7wOvS6KPF8P/dzFdcsld+V+v1LedvHGuUxeNQdCJsjvT4RkkqvODyFHzhM6vCp6Jrml7UR5u38/40o3y21ZZ7msiZAjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cuSLeBBgAP3lp4eFy0oMAAAAASUVORK5CYII=",Qt=Ut.b.img(nt||(nt=Object(zt.a)(["\n\twidth: 300px;\n\theight: 450px;\n\ttransition: transform 0.3s;\n\tfilter: drop-shadow(#000000 7px 7px 3px);\n"]))),Bt=Ut.b.div(rt||(rt=Object(zt.a)(["\n\tmax-width: 300px;\n\tmax-height: 450px;\n\twidth: auto;\n\theight: 100vh;\n\tposition: relative;\n\tmargin: 0;\n\t\n\ttransition: 0.3s;\n\tfilter: drop-shadow(#000000 7px 7px 3px);\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: #ffb500;\n\t}\n\th3 {\n\t\tmargin: 0;\n\t\ttext-align: center;\n\t}\n\th5 {\n\t\tmargin: 0.5rem 0 0.7rem;\n\t\tfont-weight: 400;\n\t}\n\t:hover {\n\t\t-webkit-transform: scale(1.1);\n  \t\t-ms-transform: scale(1.1);\n  \t\ttransform: scale(1.1);\n\t}\n"]))),Ht=Ut.b.div(it||(it=Object(zt.a)(["\n\tbackground: rgba(0, 0, 0, 0.8);\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tborder-radius: 3px;\n\tpadding: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\topacity: 0;\n\ttransition: opacity 0.3s;\n\t:hover {\n\t\topacity: 1;\n\t}\n"]))),qt=function(t){var e=t.movie,n=t.children;return e?Object(Wt.jsx)(Bt,{children:Object(Wt.jsxs)(U.b,{id:"movie-link",to:"/".concat(e.id),children:[Object(Wt.jsx)(Qt,{id:"movie-poster",src:null!==e.poster_path?"".concat("https://image.tmdb.org/t/p/w300").concat(e.poster_path):Pt,alt:e.title}),Object(Wt.jsx)(Ht,{children:n})]})}):null},Kt=[{id:28,name:"Action"},{id:10759,name:"Action & Adventure"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10762,name:"Kids"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10749,name:"Romance"},{id:10765,name:"Sci-Fi & Fantasy"},{id:878,name:"Science Fiction"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}],$t=function(t){var e=t.match,n=t.showFavorite,a=(Object(Q.a)(t,["match","showFavorite"]),Object(r.useState)("")),o=Object(P.a)(a,2),s=o[0],d=o[1],l=Object(r.useState)([]),b=Object(P.a)(l,2),u=b[0],p=b[1],h=Object(r.useState)("popularity.desc"),m=Object(P.a)(h,2),j=m[0],g=m[1],f=100;"vote_average.desc"===j&&(f=500);var v=function(){var t=Object(X.a)(W.a.mark((function t(e,n){var r,i,a,o,c=arguments;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:1,i=s?"https://api.themoviedb.org/3/search/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&query=".concat(s,"&page=").concat(r,"&include_adult=false"):"https://api.themoviedb.org/3/discover/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&sort_by=".concat(j,"&include_adult=false&include_video=false&page=").concat(r,"&vote_count.gte=").concat(f),t.next=4,G.a.get(i);case 4:a=t.sent,o=a.data,p(o.results);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=Object(B.a)(["movies",{searchQuery:s,sortBy:j}],v,{getFetchMore:function(t,e){return t.total_pages>t.page?t.page+1:null}}),x=O.isFetching,y=O.isFetchingMore,w=O.fetchMore,k=O.canFetchMore,S=[];u.forEach((function(t){return S.push(t)}));var R,A=Object(c.c)((function(t){return t.auth})),C=A.user,_=A.isAuthenticated,E=Object(r.useRef)();return function(t){var e=t.root,n=t.target,r=t.onIntersect,a=t.threshold,o=void 0===a?1:a,c=t.rootMargin,s=void 0===c?"0px":c;i.a.useEffect((function(){var t=new IntersectionObserver((function(t){return t.forEach((function(t){return t.isIntersecting&&r()}))}),{root:e&&e.current,rootMargin:s,threshold:o}),i=n&&n.current;if(i)return t.observe(i),function(){return t.unobserve(i)}}),[n.current])}({target:E,onIntersect:w,enabled:y,rootMargin:"500px"}),Object(r.useEffect)((function(){e.params.query&&d(e.params.query)}),[e.params]),R=n?Object(Wt.jsxs)("h1",{children:["Favorite Movies for ",C.name]}):s?Object(Wt.jsx)(Wt.Fragment,{children:Object(Wt.jsx)("h3",{id:"search-query",children:"Search term:"})}):Object(Wt.jsx)(Xt,{sortBy:j,setSortBy:g}),Object(Wt.jsxs)(Wt.Fragment,{children:[n&&!_&&Object(Wt.jsx)(D.a,{to:"/login"}),R,Object(Wt.jsx)(Nt,{id:"movie-results",children:S.map((function(t){return Object(Wt.jsxs)(qt,{movie:t,children:[Object(Wt.jsx)("h3",{id:"movieposter-title",children:t.title}),Object(Wt.jsx)("h5",{id:"movieposter-year",children:t.release_date&&t.release_date.split("_")[0]}),Object(Wt.jsx)(Vt,{children:t.genre_ids&&t.genre_ids.length&&t.genre_ids.map((function(t){return Object(Wt.jsx)("span",{children:Kt.map((function(e){return t===e.id&&Object(Wt.jsx)(Gt,{id:"movieposter-genre",children:e.name},e.name)}))},t)}))})]},t.id)}))}),!x&&!S.length&&Object(Wt.jsx)("h2",{id:"movie-results",style:{position:"relative",top:"2rem",fontWeight:500},children:"No movies found!"}),y,k&&Object(Wt.jsx)(Zt,{type:"button",ref:E,children:"Load more"})]})},te=n(11),ee=n(12),ne=n(14),re=n(13),ie=n(47),ae=n.n(ie),oe=Ut.b.div(at||(at=Object(zt.a)(["\n\theight: 600px;\n\tmargin: 0 0 3rem 0rem;\n"]))),ce=Ut.b.h2(ot||(ot=Object(zt.a)(["\n\tcolor: ",";\n\tmargin: 2.5rem 0 2rem;\n"])),Dt),se=Ut.b.iframe(ct||(ct=Object(zt.a)(["\n\tmax-height: 888px;\n\tmin-height: 560px;\n\twidth: 100%;\n"]))),de=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(){return Object(te.a)(this,n),e.apply(this,arguments)}return Object(ee.a)(n,[{key:"render",value:function(){var t=this.props.id;return Object(Wt.jsxs)(oe,{children:[Object(Wt.jsx)(ce,{children:"Trailer"}),Object(Wt.jsx)(se,{src:"https://www.youtube.com/embed/".concat(t),allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,frameBorder:0})]})}}]),n}(r.Component),le=Ut.b.div(st||(st=Object(zt.a)(["\n\tmargin-bottom: 2rem;\n\tcolor: '#ffb500';\n\n"]))),be=Ut.b.div(dt||(dt=Object(zt.a)(["\n\tmargin: 2rem auto;\n\tpadding: 0 1rem;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgrid-row-gap: 1rem;\n\tgrid-column-gap: 1rem;\n\t@media (max-width: 920px) {\n\t\tgrid-template-columns: repeat(1, 1fr);\n\t}\n\t@media (max-width: 760px) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\t@media (max-width: 630px) {\n\t\tgrid-template-columns: repeat(1, 1fr);\n\t}\n"]))),ue=Ut.b.div(lt||(lt=Object(zt.a)(["\n\tdisplay: inline-flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tcolor: #ffb500;\n\tbackground: rgba(0, 0, 0, 0.6);\n\twidth: 100%;\n\tmargin: 0 auto;\n\tpadding: 0;\n\tborder-radius: 5px;\n"]))),pe=Ut.b.img(bt||(bt=Object(zt.a)(["\n\twidth: 80px;\n\tborder-radius: 3px 0 0 3px;\n\tmargin-right: 1rem;\n\tcolor: #ffb500;\n"]))),he=Ut.b.div(ut||(ut=Object(zt.a)(["\n\tdisplay: inline-block;\n\twidth: 100%;\n\tpadding: 0 1rem;\n"]))),me=Ut.b.h3(pt||(pt=Object(zt.a)(["\n\tmargin: 0.5rem 0;\n\tcolor: #ffb500;\n"]))),je=Ut.b.h4(ht||(ht=Object(zt.a)(["\n\tmargin: 0;\n\tfont-weight: 600;\n\tmargin: 0.5rem 0;\n\tfont-size: 1.1rem;\n\tcolor: white;\n"]))),ge=Ut.b.div(mt||(mt=Object(zt.a)(["\n\twidth: 100%;\n\ttext-align: center;\n"]))),fe=Ut.b.div(jt||(jt=Object(zt.a)(["\n\tcolor: ;\n\tdisplay: inline-block;\n\tmargin: 0 auto;\n\ttext-align: center;\n\twidth: 20%;\n\tbackground: rgba(0, 0, 0, 0.6);\n\tcolor: #ffb500;\n\tpadding: 1rem;\n\tborder-radius: 5px;\n\tcursor: pointer;\n\ttransition: 0.3s;\n\t&:hover {\n\t\tcolor: white;\n\t}\n"]))),ve=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(){var t;Object(te.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={castCount:6},t.seeMore=function(){var e=t.props.credits,n=t.state.castCount;n!==e.length&&t.setState({castCount:n+10})},t}return Object(ee.a)(n,[{key:"render",value:function(){var t=this.props.credits,e=this.state.castCount,n=t.cast.slice(0,e);return Object(Wt.jsxs)(le,{children:[Object(Wt.jsx)("h2",{id:"cast-crew",style:{color:"#ffb500"},children:"Cast & Crew"}),Object(Wt.jsx)(be,{children:n&&n.map((function(t){return Object(Wt.jsxs)(ue,{id:"movie-credit",children:[Object(Wt.jsx)(pe,{id:"credit-photo",src:t.profile_path?"".concat("https://image.tmdb.org/t/p/w185").concat(t.profile_path):Pt,alt:t.name}),Object(Wt.jsxs)(he,{children:[Object(Wt.jsx)(me,{id:"credit-name",children:t.name}),Object(Wt.jsx)(je,{id:"credit-character",children:t.character})]})]},t.credit_id)}))}),e<t.cast.length&&Object(Wt.jsx)(ge,{children:Object(Wt.jsx)(fe,{onClick:this.seeMore,children:"See More"})})]})}}]),n}(r.Component),Oe=Ut.b.button(gt||(gt=Object(zt.a)(["\n\tpadding: 1rem 2rem;\n\tborder-radius: 10px;\n\tborder: solid 3px #ffb500;\n\tfont-size: 1.2rem;\n\tbackground: rgb(30,30,30);\n\tcolor: #ffb500;\n\tmargin: 0 2rem;\n\t:hover {\n\t\tcursor: pointer;\n\t\tbackground: rgb(70,70,70);\n\t}\n"]))),xe=Ut.b.div(ft||(ft=Object(zt.a)(["\n\tposition: relative;\n"]))),ye=Ut.b.div(vt||(vt=Object(zt.a)(["\n\tposition: absolute;\n\theight: 100%;\n\twidth: 100vw;\n\tbackground: url(",") center center no-repeat;\n\tbackground-size: cover;\n\tz-index: -1;\n\t\n"])),(function(t){return t.backdrop})),we=Ut.b.div(Ot||(Ot=Object(zt.a)(["\n\tbackground-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(10, 10, 10, 1));\n\tmargin: 1 rem;\n\tdisplay: flex;\n\ttext-align: left;\n\tcolor: '#ffb500';\n\tpadding: 8rem 5%;\n\tjustify-content: center;\n\t@media (max-width: 760px) {\n\t\tdisplay: flex;\n\t}\n\t@media (max-width: 360px) {\n\t\tpadding: 6rem 1rem;\n\t}\n"]))),ke=Ut.b.div(xt||(xt=Object(zt.a)(["\n\tposition: relative;\n\tdisplay: column;\n\tmargin: 0 5rem 0 10rem;\n\t","\n\t","\n\th1 {\n\t\tmargin-bottom: 0.4rem;\n\t}\n\t@media (max-width: 760px) {\n\t\tpadding: 0;\n\t}\n"])),"",""),Se=Ut.b.div(yt||(yt=Object(zt.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmax-height: 100vh; */}\n\tmax-width: auto;\n\tmargin: 0 0rem 5rem 10rem;\n\t\n\t@media (max-width: 760px) {\n\t\tmargin: 0 auto;\n\t}\n"]))),Re=Ut.b.div(wt||(wt=Object(zt.a)(["\n\tdisplay: inline-block;\n\tjustify-content: center;\n\tbackground: rgba(0, 0, 0, 0.6);\n\tborder-radius: 5px;\n\tcolor: ",";\n\tpadding: 0.5rem 0.5rem;\n\tmargin: 0.2rem;\n\ttext-align: center;\n\t:last-child {\n\t\tmargin-bottom: 2rem;\n\t}\n"])),Dt),Ae=Ut.b.div(kt||(kt=Object(zt.a)(["\n\tdisplay: flex;\n\tcolor: ",";\n\tfont-size: 1.4rem;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto 1rem;\n\tpadding: 0.4rem 0rem 1rem 0.2rem;\n\ttext-align: center;\n\tborder-radius: 22px;\n\tdiv {\n\t\tmargin-top: 0.5rem;\n\t}\n"])),Dt),Ce=Ut.b.div(St||(St=Object(zt.a)(["\n\tcolor: white;\n\tfont-weight: bold;\n\ttext-align: left;\n\tmargin-bottom: 2.5rem;\n\tspan {\n\t\tcolor: ",";\n\t\tfont-size: 1.1rem;\n\t}\n\th3 {\n\t\tmargin: .5rem;\n\t\tfont-size: 1.6rem;\n\t\tfont-weight: 400;\n\t}\n"])),Dt),_e=Ut.b.p(Rt||(Rt=Object(zt.a)(["\n\tcolor: white;\n\ttext-align: left;\n\tfont-size: 1.2rem;\n\tfont-weight: 400;\n\tborder-radius: 10px;\n\tline-height: 1.4;\n\n"]))),Ee=Ut.b.div(At||(At=Object(zt.a)(["\n\tdisplay: inline-block;\n\ttext-shadow: 1px 6px 10px #000;\n\tmargin-bottom: 1rem;\n\twidth: auto;\n\th4 {\n\t\tcolor: white;\n\t\tfont-size: 1.2rem;\n\t\tfont-weight: 500;\n\t\tmargin: 0.4rem 0;\n\t}\n"]))),Me=Object(Ut.b)(Ee)(Ct||(Ct=Object(zt.a)(["\n\tfont-size: 1.9rem;\n\ttext-shadow: 1px 6px 2px #000;\n\tcolor: ",";\n\t@media (max-width: 760px) {\n\t\tdisplay: none;\n\t}\n"])),Dt),Te=Object(Ut.b)(Ee)(_t||(_t=Object(zt.a)(["\n\tcolor: ",";\n\t@media (min-width: 760px) {\n\t\tdisplay: none;\n\t}\n"])),Dt),Le=(Ut.b.button(Et||(Et=Object(zt.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 3.125rem;\n\twidth: 3.125rem;\n\tborder-radius: 22px;\n\tfont-size: 1.9rem;\n\tfont-weight: 400;\n\ttransition: 0.3s;\n\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\n\tbackground: #111;\n\tcolor: #eee;\n\tborder: 1px solid ",";\n\t:hover {\n\t\tcursor: pointer;\n\t\tbackground: ",";\n\t}\n"])),Dt,Dt),Ut.b.div(Mt||(Mt=Object(zt.a)(["\n\tposition: fixed;\n\ttop: 9.5rem;\n\tleft: 0;\n\tcursor: pointer;\n\ttransition: 0.3s;\n\topacity: 0.5;\n\tpadding: 1rem;\n\tsvg {\n\t\tstroke: ",";\n\t\tstroke-width: 3;\n\t}\n\t&:hover {\n\t\topacity: 1;\n\t\tsvg {\n\t\t\tstroke: ",";\n\t\t}\n\t}\n"])),Dt,Dt)),Ie=Ut.b.div(Tt||(Tt=Object(zt.a)(["\n\tdisplay: inline-flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 2rem 1rem;\n\tmargin: 2rem 0;\n\tborder-radius: 12px;\n\tbackground: rgba(0, 0, 0, 0.4);\n\tmax-width: 100%;\n\ttext-align: center;\n\th4 {\n\t\tcolor: ",";\n\t\tmargin: 0;\n\t}\n\th3 {\n\t\tmargin: 0.8rem 0;\n\t}\n\timg {\n\t\tborder-radius: 3px;\n\t}\n"])),Dt),ze=Object(Ut.b)(Oe)(Lt||(Lt=Object(zt.a)(["\n\tmargin: 0 0 3.5rem 0;\n\tborder: none;\n\twidth: 100%;\n\tposition: relative;\n\ttransition: 0.2s;\n\t&:before {\n\t\tcontent: '\u2665';\n\t\tposition: absolute;\n\t\tleft: 5rem;\n\t\ttop: 0.6rem;\n\t\tfont-size: 1.8rem;\n\t}\n"]))),Ue=Object(Ut.b)(ze)(It||(It=Object(zt.a)(["\n\tbackground: ",";\n\tcolor: ",";\n\t&:hover {\n\t\tbackground: ",";\n\t\tcolor: ",";\n\t}\n\t&:before {\n\t\topacity: 0.3;\n\t}\n"])),Dt,"#1e1e1e",Dt,Ft),De="https://image.tmdb.org/t/p/w1280",Fe=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(){var t;Object(te.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={id:"",movie:{},credits:{},videos:[],trailer:{},Background:"",loading:!0},t.componentDidMount=function(){t.setState({id:t.props.match.params.id}),t.setMovie()},t.setMovie=Object(X.a)(W.a.mark((function e(){var n,r,i,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.id,e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&append_to_response=credits,videos"));case 4:return r=e.sent,e.next=7,r.json();case 7:i=e.sent,a=i.videos.results.filter((function(t){return"YouTube"===t.site&&"Trailer"===t.type}))[0],t.setState({movie:i,credits:i.credits,videos:i.videos.results,trailer:a,loading:!1}),window.scrollTo(0,0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),t}return Object(ee.a)(n,[{key:"componentDidUpdate",value:function(t,e){t.match.params.id!==this.props.match.params.id&&this.setMovie()}},{key:"render",value:function(){var t,e=this,n=this.state,i=n.movie,a=n.credits,o=n.loading,c=n.trailer,s=this.props,d=s.history,l=s.favorite,b=s.auth;a.crew&&(t=a.crew.filter((function(t){return"Director"===t.job}))[0]);var u=!1;return l.favorite.forEach((function(t){t.id&&(u=!0)})),Object(Wt.jsxs)(xe,{children:[o,!o&&i&&!i.status_code&&Object(Wt.jsxs)(r.Fragment,{children:[Object(Wt.jsx)(ye,{backdrop:Object.keys(i).length&&"".concat(De).concat(i.backdrop_path)}),console.log(De),console.log(i.backdrop_path),Object(Wt.jsxs)(we,{children:[Object(Wt.jsxs)(Se,{children:[Object(Wt.jsxs)(Te,{children:[Object(Wt.jsx)("h1",{id:"movie-title",style:{display:"inline"},children:i.title}),Object(Wt.jsx)("h4",{id:"movie-tagline",children:i.tagline})]}),Object(Wt.jsx)(Qt,{id:"movie-poster",src:Object.keys(i).length&&"".concat("https://image.tmdb.org/t/p/w300").concat(i.poster_path),alt:i.title}),Object(Wt.jsx)(Ae,{children:Object(Wt.jsxs)("div",{children:[Object(Wt.jsx)("span",{id:"vote-average",children:i.vote_average}),"/10",Object(Wt.jsxs)("span",{style:{margin:"1rem",fontSize:"1.1rem",color:"#ffb500"},children:["(",Object(Wt.jsx)("span",{id:"vote-count",children:i.vote_count})," ","votes)"]})]})}),Object(Wt.jsx)("div",{children:!0===u?Object(Wt.jsx)(Ue,{onClick:function(){e.props.removeFavorite(i.id)},children:"Remove Favorite"}):Object(Wt.jsx)(ze,{onClick:function(){b.isAuthenticated?e.props.favoriteMovie(i):d.push("/login")},children:"Favorite"})}),Object(Wt.jsx)("div",{children:i.genres&&i.genres.map((function(t){return Object(Wt.jsx)(Re,{id:"movie-genre",children:t.name},t.name)}))}),Object(Wt.jsxs)(Ce,{children:[Object(Wt.jsx)("span",{children:"Released:"}),Object(Wt.jsx)("h3",{id:"movie-release-date",children:i.release_date})]}),Object(Wt.jsxs)(Ce,{children:[Object(Wt.jsx)("span",{children:"Director"}),Object(Wt.jsx)("h3",{children:t.name})]}),Object(Wt.jsxs)(Ce,{children:[Object(Wt.jsx)("span",{children:"Runtime:"}),Object(Wt.jsxs)("h3",{id:"movie-runtime",children:[i.runtime,"min"]})]}),0!==i.budget&&Object(Wt.jsxs)(Ce,{children:[Object(Wt.jsx)("span",{children:"Budget:"}),Object(Wt.jsxs)("h3",{id:"movie-budget",children:["$",ae()(i.budget)]})]}),0!==i.revenue&&Object(Wt.jsxs)(Ce,{children:[Object(Wt.jsx)("span",{children:"Revenue:"}),Object(Wt.jsxs)("h3",{id:"movie-revenue",children:["$",ae()(i.revenue)]})]}),i.belongs_to_collection&&Object(Wt.jsxs)(Ie,{children:[Object(Wt.jsx)("h4",{children:"Part of"}),Object(Wt.jsx)("h3",{children:i.belongs_to_collection.name}),Object(Wt.jsx)("img",{src:i.belongs_to_collection.poster_path?"".concat("https://image.tmdb.org/t/p/w154").concat(i.belongs_to_collection.poster_path):Pt,alt:i.belongs_to_collection.name})]})]}),Object(Wt.jsxs)(ke,{children:[Object(Wt.jsxs)(Me,{children:[Object(Wt.jsx)("h1",{id:"movie-title",style:{display:"inline"},children:i.title}),Object(Wt.jsx)("h4",{id:"movie-tagline",children:i.tagline})]}),Object(Wt.jsx)(_e,{id:"movie-overview",children:i.overview}),c&&Object(Wt.jsx)(de,{id:c.key}),Object(Wt.jsx)(ve,{credits:a})]})]})]}),!o&&i&&34===i.status_code&&Object(Wt.jsxs)(r.Fragment,{children:[Object(Wt.jsx)("h2",{id:"movie-title",style:{marginTop:"6rem"},children:"Movie not found!"}),Object(Wt.jsx)(Le,{onClick:d.goBack,children:"<"})]})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.match.params.id!==e.id?{id:t.match.params.id}:null}}]),n}(r.Component);Fe.contextTypes={router:function(){return null}};var Ne,Ge,Ve,Ze,Je,Ye,We,Xe,Pe,Qe,Be=Object(c.b)((function(t){return{auth:t.auth,favorite:t.favorite,errors:t.errors}}),{favoriteMovie:function(t){return function(e){return G.a.patch("/api/favorites/add",t).then((function(t){return e({type:p,payload:t.data})})).catch((function(t){return e({type:b,payload:t.response.data})}))}},removeFavorite:function(t){return function(e){return G.a.delete("/api/favorites/".concat(t)).then((function(t){return e({type:h,payload:t.data})})).catch((function(t){return e({type:b,payload:t.response.data})}))}}})(Object(D.g)(Fe)),He=n(48),qe=n.n(He),Ke=function(){return{type:O}},$e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"popularity.desc";return function(r){r(Ke());var i,a=100;"vote_average.desc"===n&&(a=500),i=e?"https://api.themoviedb.org/3/search/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&query=".concat(e,"&page=").concat(t,"&include_adult=false"):"https://api.themoviedb.org/3/discover/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&sort_by=".concat(n,"&include_adult=false&include_video=false&page=").concat(t,"&vote_count.gte=").concat(a),G.a.get(i).then((function(t){return r({type:m,payload:t.data})})).catch((function(t){return r({type:b,payload:t.response.data})}))}},tn=function(t){return function(e){e({type:g,payload:t})}},en=function(t){return function(e){return e({type:f,payload:t})}},nn=function(t){return function(e){e({type:v,payload:t})}},rn=function(){var t=Object(X.a)(W.a.mark((function t(){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(){var t=Object(X.a)(W.a.mark((function t(e){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn(1);case 2:return t.next=4,en("");case 4:return t.next=6,nn("popularity.desc");case 6:$e();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),an=Ut.b.div(Ne||(Ne=Object(zt.a)(["\n        background-color: rgb(30, 30, 30);\n        display: flex;\n        height: 8rem;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: calc(10px + 2vmin);\n        color: rgb(255, 255, 255,);\n        width: 100%;\n        transition: 0.3s;\n        z-index: 999;\n        ",";\n"])),(function(t){return t.sticky?"\n            transform: translateY(0);\n            top: 0;\n            position: fixed;\n            box-shadow: 0 3px 6px rgba(0,0,0,0.3);\n            ":"\n            position: absolute;\n            transform: translateY(-4.8rem);\n\t\t"})),on=Object(Ut.b)(U.b)(Ge||(Ge=Object(zt.a)(["\n    color: rgb(255, 255, 255);\n\ttext-decoration: none;\n\tfont-weight: 600;\n\tpadding: 1rem;\n\ttransition: 0.3s;\n\t:hover {\n\t\tcolor: #ffb500;\n\t}\n\t@media (max-width: 800px) {\n\t\tdisplay: none;\n\t}\n"]))),cn=Ut.b.div(Ve||(Ve=Object(zt.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tfont-size: 1rem;\n\tmargin: 0;\n\tmargin-right: 3rem;\n"]))),sn=Ut.b.div(Ze||(Ze=Object(zt.a)(["\n\tdisplay: flex;\n\talign-items: space-evenly\n"]))),dn=Ut.b.img(Je||(Je=Object(zt.a)(["\n\tmargin-left: 1.2rem;\n\tmargin-top: 1rem;\n\tmax-height: 100vh;\n\tmax-width: auto;\n\theight: 7rem;\n\t\n"]))),ln=Ut.b.img(Ye||(Ye=Object(zt.a)(["\n\t\n\tmax-height: 150px;\n\tmax-width: 600px;\n\theight: auto;\n\twidth: auto;\n"]))),bn=function(){return Object(Wt.jsxs)(sn,{children:[Object(Wt.jsx)(dn,{id:"goat",src:"https://res.cloudinary.com/gregdusek/image/upload/v1609810374/GOATflix/goat_nnchqt.png",alt:""}),Object(Wt.jsx)(ln,{id:"words",src:"https://res.cloudinary.com/gregdusek/image/upload/v1612079771/GOATflix/wordlogo_ykvghy.png",alt:""})]})},un=Ut.b.form(We||(We=Object(zt.a)(["\n\tposition: relative;\n\tmargin-right: 2rem;\n"]))),pn=Ut.b.input(Xe||(Xe=Object(zt.a)(["\n\tborder-radius: 22px;\n\tbackground: rgb(70, 70, 70);\n\tcolor: #ffb500;\n\tborder: 3px solid #ffb500;\n\theight: 50px;\n\tfont-size: 1.3rem;\n\tpadding-left: 3.5rem;\n\t}\n\n\t@media (max-width: 650px) {\n\t\tmax-width: 44px;\n\t\tmargin-right: -1rem;\n\t}\n\t\n\t&::placeholder {\n\t\tcolor: rgb(255,255,255);\n\t}\n"]))),hn=Ut.b.div(Pe||(Pe=Object(zt.a)(["\n\tposition: absolute;\n\tleft: 1rem;\n\ttop: 9px;\n\tcursor: text;\n"]))),mn=Ut.b.img(Qe||(Qe=Object(zt.a)(["\n\theight: 85%;\n\twidth: 85%;\n"]))),jn=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(t){var r;return Object(te.a)(this,n),(r=e.call(this,t)).state={input:""},r.handleChange=function(t){r.setState({input:t.target.value})},r.inputRef=i.a.createRef(),r}return Object(ee.a)(n,[{key:"render",value:function(){var t=this,e=this.state.input,n=this.props,r=n.onSubmit,i=n.history;return Object(Wt.jsxs)(un,{id:"searchbutton-form",onSubmit:function(t){return r(t,e,i)},onClick:function(){return t.inputRef.current.focus()},children:[Object(Wt.jsx)(pn,{id:"searchbutton-field",type:"text",value:e,onChange:this.handleChange,ref:this.inputRef,placeholder:"Search...","aria-label":"Search"}),Object(Wt.jsx)(hn,{children:Object(Wt.jsx)(mn,{id:"search-icon",src:"https://res.cloudinary.com/gregdusek/image/upload/v1609890114/GOATflix/search_icon_mpdoc3.png",alt:""})})]})}}]),n}(r.Component);jn.defaultProps={onSubmit:function(t,e,n){t.preventDefault(),""!==e&&n.push("/search=".concat(e))}};var gn,fn,vn,On,xn,yn,wn,kn,Sn,Rn=Object(D.g)(jn),An=Ut.b.div(gn||(gn=Object(zt.a)(["\n\tposition: relative;\n\t@media (min-width: 800px) {\n\t\tdisplay: none;\n\t}\n"]))),Cn=Ut.b.div(fn||(fn=Object(zt.a)(["\n\t// padding: 0 2rem;\n\twidth: 30px;\n\theight: 20px;\n\tposition: relative;\n\tbox-sizing: content-box;\n\tcursor: pointer;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\talign-items: center;\n\tdiv {\n\t\twidth: 100%;\n\t\theight: 4px;\n\t\tbackground: #ffb500;\n\t\tborder-radius: 10px;\n\t}\n"]))),_n=Ut.b.div(vn||(vn=Object(zt.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: space-around;\n\twidth: 200px;\n\theight: 100px;\n\tposition: absolute;\n\tbottom: -133px;\n\tright: -1rem;\n\tbackground: #fff;\n\tborder-radius: 3px;\n\tbox-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n"]))),En=(Ut.b.div(On||(On=Object(zt.a)([""]))),Ut.b.div(xn||(xn=Object(zt.a)(["\n\tfont-weight: 600;\n\tpadding: 0.5rem;\n\tfont-size: 0.9rem;\n\tcursor: pointer;\n\tcolor: rgb(30, 30, 30);\n\t&:hover,\n\t&:hover a {\n\t\tbackground: rgb(75, 75, 75);\n\t\tcolor: #ffb500;\n\t}\n\ta {\n\t\tdisplay: inline-block;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tcolor: rgb(30, 30, 30);\n\t\ttext-decoration: none;\n\t}\n"])))),Mn=Ut.b.div(yn||(yn=Object(zt.a)(["\n\tbackground: rgb(70,70,70);\n\twidth: 20px;\n\theight: 20px;\n\tposition: absolute;\n\ttop: -18px;\n\tright: 22px;\n\tclip-path: polygon(50% 40%, 0% 100%, 100% 100%);\n"]))),Tn=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(){var t;Object(te.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={open:!1},t.onToggle=function(){return t.setState((function(t){return{open:!t.open}}))},t}return Object(ee.a)(n,[{key:"render",value:function(){var t=this.state.open;return Object(Wt.jsxs)(An,{children:[Object(Wt.jsxs)(Cn,{onClick:this.onToggle,children:[Object(Wt.jsx)("div",{}),Object(Wt.jsx)("div",{}),Object(Wt.jsx)("div",{})]}),t&&Object(Wt.jsxs)(_n,{children:[Object(Wt.jsx)(En,{children:Object(Wt.jsx)(U.b,{to:"/register",onClick:this.onToggle,children:"Register"})}),Object(Wt.jsx)(En,{children:Object(Wt.jsx)(U.b,{to:"/login",onClick:this.onToggle,children:"Login"})}),Object(Wt.jsx)(Mn,{})]})]})}}]),n}(r.Component),Ln=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(t){var r;return Object(te.a)(this,n),(r=e.call(this,t)).componentDidMount=function(){window.addEventListener("scroll",qe.a.throttle(r.onScroll,300))},r.componentWillUnmount=function(){window.removeEventListener("scroll",qe.a.throttle(r.onScroll,300))},r.onScroll=function(){var t=r.state,e=t.sticky,n=t.prevScrollPosition;!e&&window.scrollY>176&&window.scrollY<n&&r.setState({sticky:!0}),e&&(window.scrollY<176||window.scrollY>n)&&r.setState({sticky:!1}),r.setState({prevScrollPosition:window.scrollY})},r.resetList=function(){},r.state={sticky:!1,prevScrollPosition:0},r.navref=i.a.createRef(),r}return Object(ee.a)(n,[{key:"render",value:function(){var t=this.props.auth,e=t.isAuthenticated,n=t.user,i=this.props,a=i.logoutUser,o=i.resetMoviesList,c=i.history,s=this.state.sticky;return Object(Wt.jsxs)(an,{ref:this.navRef,sticky:s,children:[Object(Wt.jsx)(U.b,{to:"/",children:Object(Wt.jsx)(bn,{onClick:o})}),Object(Wt.jsxs)(cn,{children:[Object(Wt.jsx)(Rn,{}),e?Object(Wt.jsx)(Tn,{user:n,onLogout:function(){return a(c)}}):Object(Wt.jsxs)(r.Fragment,{children:[Object(Wt.jsx)(on,{to:"/login",children:"Login"}),Object(Wt.jsx)(on,{to:"/register",children:"Register"}),Object(Wt.jsx)(Tn,{})]})]})]})}}]),n}(r.Component),In=Object(c.b)((function(t){return{auth:t.auth}}),{logoutUser:J,resetMoviesList:rn})(Object(D.g)(Ln)),zn=n(31),Un=Ut.b.label(wn||(wn=Object(zt.a)(["\n\tdisplay: block;\n\tmargin: 2rem 0;\n\ttext-align: center;\n\tmargin-bottom: 1rem;\n\tposition: relative;\n\t&:first-child {\n\t\tmargin-top: 3rem;\n\t}\n\t&:last-of-type {\n\t\tmargin-bottom: 3rem;\n\t}\n\tinput {\n\t\tbackground: #111;\n\t\twidth: 90%;\n\t\tmax-width: 430px;\n\t\tpadding: 0.8rem;\n\t\tborder-radius: 3px;\n\t\tbox-shadow: none;\n\t\tborder-style: solid;\n\t\tfont-size: 1.1rem;\n\t\tborder: none;\n\t\tcolor: #ffb500;\n\t\t&:focus,\n\t\t&:hover {\n\t\t\tbackground: rgb(30, 30, 30);\n\t\t}\n\t}\n"]))),Dn=Ut.b.small(kn||(kn=Object(zt.a)(["\n\tcolor: #ffb500;\n\tdisplay: block;\n\tbottom: -1rem;\n\tfont-size: 1.1rem;\n"]))),Fn=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(){return Object(te.a)(this,n),e.apply(this,arguments)}return Object(ee.a)(n,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.holderName,r=t.type,i=t.value,a=t.onChange,o=t.errors;return Object(Wt.jsxs)(Un,{htmlFor:e,children:[Object(Wt.jsx)("input",{name:e,type:r,value:i,placeholder:n,onChange:a}),o[e]&&Object(Wt.jsx)(Dn,{children:o[e]})]})}}]),n}(r.Component);Fn.defaultProps={type:"text"};var Nn,Gn,Vn=Ut.b.div(Sn||(Sn=Object(zt.a)(["\n\tdisplay: inline-block;\n\tmargin-top: 2rem;\n\tfont-size: 1.1rem;\n\ta {\n\t\tcolor: #ffb500;\n\t}\n"]))),Zn=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(){var t;Object(te.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={name:"",email:"",password:"",password2:"",errors:{}},t.handleChange=function(e){var n=e.target,r=n.name,i=n.value;t.setState(Object(zn.a)({},r,i))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,r={name:n.name,email:n.email,password:n.password,password2:n.password2};t.props.registerUser(r,t.props.history)},t}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(t){t.errors&&this.setState({errors:t.errors})}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.email,r=t.password,i=t.password2,a=t.errors;return Object(Wt.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(Wt.jsx)("h1",{children:"Register"}),Object(Wt.jsx)(Vn,{children:Object(Wt.jsx)(U.b,{to:"/login",children:"Already registered?"})}),Object(Wt.jsx)(Fn,{name:"name",holderName:"Name",value:e,onChange:this.handleChange,errors:a}),Object(Wt.jsx)(Fn,{name:"email",holderName:"Email",type:"email",value:n,onChange:this.handleChange,errors:a}),Object(Wt.jsx)(Fn,{name:"password",holderName:"Password",type:"password",value:r,onChange:this.handleChange,errors:a}),Object(Wt.jsx)(Fn,{name:"password2",holderName:"Confirm Password",type:"password",value:i,onChange:this.handleChange,errors:i}),Object(Wt.jsx)(Oe,{type:"submit",children:"Submit"})]})}}]),n}(r.Component),Jn=Object(c.b)((function(t){return{auth:t.auth,errors:t.errors}}),{registerUser:function(t,e){return function(n){return G.a.post("backend-api/routes/auth/register",t).then((function(){return e.push("/login")})).catch((function(t){return n({type:b,payload:t.response.data})}))}}})(Object(D.g)(Zn)),Yn=function(t){Object(ne.a)(n,t);var e=Object(re.a)(n);function n(){var t;Object(te.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={email:"",password:"",errors:{}},t.handleChange=function(e){var n=e.target,r=n.name,i=n.value;t.setState(Object(zn.a)({},r,i))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,r={email:n.email,password:n.password};t.props.loginUser(r,t.props.history)},t}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/favorite")}},{key:"componentWillReceiveProps",value:function(t){t.errors&&this.setState({errors:t.errors})}},{key:"render",value:function(){var t=this.state,e=t.email,n=t.password,r=t.errors;return Object(Wt.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(Wt.jsx)("h1",{children:"Login"}),Object(Wt.jsx)(Vn,{children:Object(Wt.jsx)(U.b,{to:"/register",children:"Not registered?"})}),Object(Wt.jsx)(Fn,{name:"email",holderName:"Email",value:e,onChange:this.handleChange,errors:r}),Object(Wt.jsx)(Fn,{name:"password",holderName:"Password",value:n,type:"password",onChange:this.handleChange,errors:r}),Object(Wt.jsx)(Oe,{type:"submit",children:"Submit"})]})}}]),n}(r.Component),Wn=Object(c.b)((function(t){return{auth:t.auth,errors:t.errors}}),{loginUser:function(t,e){return function(n){return G.a.post("backend-api/routes/auth/login",t).then((function(t){var e=t.data.token;localStorage.setItem("jwtToken",e),V(e);var r=Object(F.a)(e);n(Z(r))})).then((function(){return e.push("/backend-api/favorites")})).catch((function(t){return n({type:b,payload:t.response.data})}))}}})(Object(D.g)(Yn)),Xn=Ut.b.div(Nn||(Nn=Object(zt.a)(["\n\ttext-align: center;\n\tpadding-top: 4.8rem;\n"]))),Pn=Object(Ut.a)(Gn||(Gn=Object(zt.a)(['\n  *, *:before, *:after {\n    box-sizing: border-box;\n    outline-color: #ffb500;\n  }\n  body {\n    background: rgb(60, 60, 60);\n    color: rgb (70, 70, 70);\n    margin: 0;\n    padding: 0;\n    font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n  h1 {\n    margin-top: 3rem;\n  }\n  a {\n    text-decoration: none;\n  }\n'])));if(localStorage.jwtToken){V(localStorage.jwtToken);var Qn=Object(F.a)(localStorage.jwtToken),Bn=Date.now()/1e3;Qn.exp<Bn?(L.dispatch(J()),window.location.href="/login"):(L.dispatch(Z(Qn)),L.dispatch((function(t){return G.a.get("/api/favorites").then((function(e){t({type:u,payload:e.data})})).catch((function(e){return t({type:b,payload:e.response.data})}))})))}var Hn=function(){return Object(Wt.jsx)(U.a,{children:Object(Wt.jsxs)(Xn,{children:[Object(Wt.jsx)(Pn,{}),Object(Wt.jsx)(In,{}),Object(Wt.jsxs)(D.d,{children:[Object(Wt.jsx)(D.b,{exact:!0,path:"/",component:$t}),Object(Wt.jsx)(D.b,{exact:!0,path:"/p=:page",component:$t}),Object(Wt.jsx)(D.b,{exact:!0,path:"/search=:query",component:$t}),Object(Wt.jsx)(D.b,{exact:!0,path:"/login",component:Wn}),Object(Wt.jsx)(D.b,{exact:!0,path:"/register",component:Jn}),Object(Wt.jsx)(D.b,{exact:!0,path:"/favorite",render:function(){return Object(Wt.jsx)($t,{showFavorite:!0})}}),Object(Wt.jsx)(D.b,{path:"/search=:query/p=:page",component:$t}),Object(Wt.jsx)(D.b,{path:"/:id",component:Be})]})]})})},qn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Kn(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}n(96).config();var $n=new I.a,tr=document.getElementById("root");o.a.render(Object(Wt.jsx)(c.a,{store:L,children:Object(Wt.jsx)(U.a,{children:Object(Wt.jsx)(z.a,{client:$n,children:Object(Wt.jsx)(Hn,{})})})}),tr),function(t){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");qn?(!function(t,e){fetch(t).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):Kn(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):Kn(e,t)}))}}()}},[[99,1,2]]]);
//# sourceMappingURL=main.ce5fddb4.chunk.js.map