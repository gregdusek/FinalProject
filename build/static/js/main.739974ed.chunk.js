(this["webpackJsonpgoatflix-app"]=this["webpackJsonpgoatflix-app"]||[]).push([[0],{105:function(t,n,e){"use strict";e.r(n);var r=e(0),i=e(1),o=e.n(i),a=e(35),c=e.n(a),s=e(19),u=e(26),d=e(60),l="SET_ACTIVE_USER",b="SET_ERRORS",p="SET_FAVORITE",h="ADD_FAVORITE",f="DELETE_FAVORITE",m="SET_MOVIE_LIST",j="SET_TV_LIST",g="SET_LIST_PAGE",v="SET_LIST_SEARCH",O="SET_LIST_SORT",x="LOADING_LIST",y="LOADING_MORE",w="ADD_TO_LIST",k={},S=e(24),R=e(7),A={favorite:[]},C={movies:[],page:1,searchQuery:"",loading:!1,loadingMore:!1,sortBy:"popularity.desc"},_=e(61),E=e.n(_),M={isAuthenticated:!1,user:{}},T=Object(u.c)({favorite:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p:return Object(R.a)(Object(R.a)({},t),{},{favorite:n.payload});case h:return Object(R.a)(Object(R.a)({},t),{},{favorite:[n.payload].concat(Object(S.a)(t.favorite))});case f:return Object(R.a)(Object(R.a)({},t),{},{favorite:[].concat(Object(S.a)(t.favorite.filter((function(t){return t.id!==n.payload}))),Object(S.a)(t.favorite.filter((function(t){return t.id!==n.payload}))))});default:return t}},errors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b:return n.payload;default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case l:return Object(R.a)(Object(R.a)({},t),{},{isAuthenticated:!E()(n.payload),user:n.payload});default:return t}},list:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x:return Object(R.a)(Object(R.a)({},t),{},{loading:!0});case y:return Object(R.a)(Object(R.a)({},t),{},{loadingMore:!0});case m:return Object(R.a)(Object(R.a)({},t),{},{movies:n.payload.results,totalPages:n.payload.total_pages,loading:!1});case j:return Object(R.a)(Object(R.a)({},t),{},{tv:n.payload.results,totalPages:n.payload.total_pages,loading:!1});case w:return Object(R.a)(Object(R.a)({},t),{},{movies:[].concat(Object(S.a)(t.movies),Object(S.a)(n.payload.results)),tv:[].concat(Object(S.a)(t.tv),Object(S.a)(n.payload.results)),loadingMore:!1,page:t.page+1});case g:return Object(R.a)(Object(R.a)({},t),{},{page:n.payload});case v:return Object(R.a)(Object(R.a)({},t),{},{searchQuery:n.payload});case O:return Object(R.a)(Object(R.a)({},t),{},{sortBy:n.payload});default:return t}}}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,I=Object(u.e)(T,{},L(Object(u.a)(d.a))),z=e(107),U=e(65),D=e(10),F=e(9),N=e(37),G=e(15),V=e.n(G),Z=function(t){t?V.a.defaults.headers.common.Authorization=t:delete V.a.defaults.headers.common.Authorization},J=function(t){return{type:l,payload:t}},Y=function(t){return function(n){localStorage.removeItem("jwtToken"),Z(!1),n(J({})),t.push("/")}},W=e(21),X=e.n(W),P=e(28),Q=e(39),B=e(66),H=e(106);var q=e(2),K=e(3),$="#ffb500",tt="#464646";function nt(){var t=Object(q.a)(["\n\tdisplay: inline-block;\n\tfont-size: 0.9rem;\n\tmargin: 0 auto 5rem;\n\tpadding: 1rem;\n\twidth: 150px;\n\tborder-radius: 22px;\n\tbackground: #111;\n\ttransition: 0.3s;\n\tcolor: ",";\n\tcursor: ",";\n\n\t&:hover {\n\t\tcolor: ",";\n\t}\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]);return nt=function(){return t},t}function et(){var t=Object(q.a)(["\n\tmargin-top: 0.2rem;\n\ttext-align: center;\n"]);return et=function(){return t},t}function rt(){var t=Object(q.a)(["\n\tdisplay: inline-block;\n\tbackground: rgba(, 0, 0, 0.6);\n\tborder-radius: 3px;\n\tcolor: #ffb500;\n\tpadding: 0.2rem 0.4rem;\n\tmargin: 0.1rem;\n\ttext-align: center;\n"]);return rt=function(){return t},t}function it(){var t=Object(q.a)(["\n\tmargin: 0 auto;\n\tdisplay: grid;\n\tjustify-content: center;\n\tpadding: 4rem;\n\tgrid-template-columns: repeat(5, 1fr);\n\tgrid-template-rows: repeat(4, 3fr);\n\tgrid-column-gap: 3rem;\n\tgrid-row-gap: 3rem;\n\tmax-width: 1080px;\n\t@media (max-width: 1020px) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t}\n\t@media (max-width: 820px) {\n\t\tgrid-template-columns: repeat(3, 1fr);\n\t}\n\t@media (max-width: 620px) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\t@media (max-width: 420px) {\n\t\tgrid-template-columns: repeat(1, 1fr);\n\t}\n"]);return it=function(){return t},t}var ot=K.b.div(it()),at=K.b.div(rt()),ct=K.b.div(et()),st=K.b.div(nt(),(function(t){return t.loading?tt:$}),(function(t){return t.loading?"wait":"pointer"}),(function(t){return t.loading?tt:"#fff"}));function ut(){var t=Object(q.a)(["\n\tfont-size: 1.2rem;\n\tfont-weight: bold;\n\tbackground: rgba(30, 30, 30);\n\twidth: 15%;\n\theight: 40px;\n\tborder-radius: 10px;\n\tborder: none;\n\tmargin: 0.5rem;\n\tcolor: #ffb500;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n\t",";\n"]);return ut=function(){return t},t}function dt(){var t=Object(q.a)(["\n\th4 {\n\t\tmargin: 1rem;\n\t\t","\n\t\tfont-size: 1.4rem;\n\t\tcolor: rgba(255, 255, 255)\n\t}\n\tborder-radius: 10px;\n\twidth: 75%;\n\theight: 75%;\n\tmargin-top: 2.5rem;\n\t","\n\tdisplay: inline-block;\n\tpadding: 1rem;\n"]);return dt=function(){return t},t}var lt=K.b.div(dt(),"",""),bt=K.b.button(ut(),(function(t){return t.active&&"color: #ffb500"})),pt=function(t){var n=t.sortBy,e=t.setSortBy;return Object(r.jsxs)(lt,{children:[Object(r.jsx)("h4",{children:"Sort by:"}),Object(r.jsx)(bt,{active:"popularity.desc"===n,onClick:function(){return e("popularity.desc")},children:"most popular"}),Object(r.jsx)(bt,{active:"release_date.desc"===n,onClick:function(){return e("release_date.desc")},children:"newest"}),Object(r.jsx)(bt,{active:"vote_average.desc"===n,onClick:function(){return e("vote_average.desc")},children:"top rated"})]})},ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAEWCAMAAAANTsbhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTQ1QzEyMzcxREJFMTFFOUE2MDlFQkVCQkQ2MDVCM0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTQ1QzEyMzgxREJFMTFFOUE2MDlFQkVCQkQ2MDVCM0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDVDMTIzNTFEQkUxMUU5QTYwOUVCRUJCRDYwNUIzQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNDVDMTIzNjFEQkUxMUU5QTYwOUVCRUJCRDYwNUIzQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr1buU8AAAAYUExURRwcHDs7OysrKxEREUJCQjMzMyQkJEZGRpRkSVQAAAJYSURBVHja7NvhbsMgDEZR2wHy/m+8tVMXuq1tNPExPF3/jZSeUscGUmzLGoYcOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR478V7eMcN9v4R7NEshbHOYuXIAfecdWy/4wqq0qt3jCvkSpS8qtvnBf7bac3Op+KkpbTd72s9FWy5Zymm6LyeO0vCwmt3udR9hHvNf3L79HLFZbjke0fms6zSX5Mqoq3nrlz1f7ca9ryTe/tBp7dvkzFpO3Eq++2eDKOGuW2yVMzSXvCmdJJu+6VTZ5HVwX58kjrdwGt1HkJ4Ix/0N5SyZvVMXpcs/aQ48097Qzrsgl72a5lkt+LKR9SyWPZVfQp2v5sCGfI2+KTS6bDI8tkbyH+5ZILoLr5SGCy+VVBVfLdXCx3HVwqdyUcKX8bu/Zt0RyF2yaT5G7pHNOkFfNu0S9PNRwlbx7OovqI0S5UtRwkdzUqSKTH0Mug4vkRVjHpXIb/5Z/kjz0uSKS1wlDrpG7sOlr5eP/hjNbvmWTm2xOjvz/ygM58kUCOXLkyJEjf7wOvS6KPF8P/dzFdcsld+V+v1LedvHGuUxeNQdCJsjvT4RkkqvODyFHzhM6vCp6Jrml7UR5u38/40o3y21ZZ7msiZAjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cOXLkyJEjR44cuSLeBBgAP3lp4eFy0oMAAAAASUVORK5CYII=";function ft(){var t=Object(q.a)(["\n\tbackground: rgba(0, 0, 0, 0.8);\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tborder-radius: 3px;\n\tpadding: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\topacity: 0;\n\ttransition: opacity 0.3s;\n\t:hover {\n\t\topacity: 1;\n\t}\n"]);return ft=function(){return t},t}function mt(){var t=Object(q.a)(["\n\tmax-width: 300px;\n\tmax-height: 450px;\n\twidth: auto;\n\theight: 100vh;\n\tposition: relative;\n\tmargin: 0;\n\t\n\ttransition: 0.3s;\n\tfilter: drop-shadow(#000000 7px 7px 3px);\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: #ffb500;\n\t}\n\th3 {\n\t\tmargin: 0;\n\t\ttext-align: center;\n\t}\n\th5 {\n\t\tmargin: 0.5rem 0 0.7rem;\n\t\tfont-weight: 400;\n\t}\n\t:hover {\n\t\t-webkit-transform: scale(1.1);\n  \t\t-ms-transform: scale(1.1);\n  \t\ttransform: scale(1.1);\n\t}\n"]);return mt=function(){return t},t}function jt(){var t=Object(q.a)(["\n\twidth: 300px;\n\theight: 450px;\n\ttransition: transform 0.3s;\n\tfilter: drop-shadow(#000000 7px 7px 3px);\n"]);return jt=function(){return t},t}var gt=K.b.img(jt()),vt=K.b.div(mt()),Ot=K.b.div(ft()),xt=function(t){var n=t.movie,e=t.children;return n?Object(r.jsx)(vt,{children:Object(r.jsxs)(D.b,{id:"movie-link",to:"/".concat(n.id),children:[Object(r.jsx)(gt,{id:"movie-poster",src:null!==n.poster_path?"".concat("https://image.tmdb.org/t/p/w300").concat(n.poster_path):ht,alt:n.title}),Object(r.jsx)(Ot,{children:e})]})}):null},yt=[{id:28,name:"Action"},{id:10759,name:"Action & Adventure"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10762,name:"Kids"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10749,name:"Romance"},{id:10765,name:"Sci-Fi & Fantasy"},{id:878,name:"Science Fiction"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}],wt=function(t){var n=t.match,e=t.showFavorite,a=(Object(B.a)(t,["match","showFavorite"]),Object(i.useState)("")),c=Object(Q.a)(a,2),u=c[0],d=c[1],l=Object(i.useState)([]),b=Object(Q.a)(l,2),p=b[0],h=b[1],f=Object(i.useState)("popularity.desc"),m=Object(Q.a)(f,2),j=m[0],g=m[1],v=100;"vote_average.desc"===j&&(v=500);var O=function(){var t=Object(P.a)(X.a.mark((function t(n,e){var r,i,o,a,c=arguments;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:1,i=u?"https://api.themoviedb.org/3/search/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&query=".concat(u,"&page=").concat(r,"&include_adult=false"):"https://api.themoviedb.org/3/discover/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&sort_by=".concat(j,"&include_adult=false&include_video=false&page=").concat(r,"&vote_count.gte=").concat(v),t.next=4,V.a.get(i);case 4:o=t.sent,a=o.data,h(a.results);case 7:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),x=Object(H.a)(["movies",{searchQuery:u,sortBy:j}],O,{getFetchMore:function(t,n){return t.total_pages>t.page?t.page+1:null}}),y=x.isFetching,w=x.isFetchingMore,k=x.fetchMore,S=x.canFetchMore,R=[];p.forEach((function(t){return R.push(t)}));var A,C=Object(s.c)((function(t){return t.auth})),_=C.user,E=C.isAuthenticated,M=Object(i.useRef)();return function(t){var n=t.root,e=t.target,r=t.onIntersect,i=t.threshold,a=void 0===i?1:i,c=t.rootMargin,s=void 0===c?"0px":c;o.a.useEffect((function(){var t=new IntersectionObserver((function(t){return t.forEach((function(t){return t.isIntersecting&&r()}))}),{root:n&&n.current,rootMargin:s,threshold:a}),i=e&&e.current;if(i)return t.observe(i),function(){return t.unobserve(i)}}),[e.current])}({target:M,onIntersect:k,enabled:w,rootMargin:"500px"}),Object(i.useEffect)((function(){n.params.query&&d(n.params.query)}),[n.params]),A=e?Object(r.jsxs)("h1",{children:["Favorite Movies for ",_.name]}):u?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("h3",{id:"search-query",children:"Search term:"})}):Object(r.jsx)(pt,{sortBy:j,setSortBy:g}),Object(r.jsxs)(r.Fragment,{children:[e&&!E&&Object(r.jsx)(F.a,{to:"/login"}),A,Object(r.jsx)(ot,{id:"movie-results",children:R.map((function(t){return Object(r.jsxs)(xt,{movie:t,children:[Object(r.jsx)("h3",{id:"movieposter-title",children:t.title}),Object(r.jsx)("h5",{id:"movieposter-year",children:t.release_date&&t.release_date.split("-")[0]}),Object(r.jsx)(ct,{children:t.genre_ids&&t.genre_ids.length&&t.genre_ids.map((function(t){return Object(r.jsx)("span",{children:yt.map((function(n){return t===n.id&&Object(r.jsx)(at,{id:"movieposter-genre",children:n.name},n.name)}))},t)}))})]},t.id)}))}),!y&&!R.length&&Object(r.jsx)("h2",{id:"movie-results",style:{position:"relative",top:"2rem",fontWeight:500},children:"No movies found!"}),w,S&&Object(r.jsx)(st,{type:"button",ref:M,children:"Load more"})]})},kt=e(11),St=e(12),Rt=e(14),At=e(13),Ct=e(47),_t=e.n(Ct);function Et(){var t=Object(q.a)(["\n\tmax-height: 888px;\n\tmin-height: 560px;\n\twidth: 100%;\n"]);return Et=function(){return t},t}function Mt(){var t=Object(q.a)(["\n\tcolor: ",";\n\tmargin: 2.5rem 0 2rem;\n"]);return Mt=function(){return t},t}function Tt(){var t=Object(q.a)(["\n\theight: 600px;\n\tmargin: 0 0 3rem 0rem;\n"]);return Tt=function(){return t},t}var Lt=K.b.div(Tt()),It=K.b.h2(Mt(),$),zt=K.b.iframe(Et()),Ut=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(){return Object(kt.a)(this,e),n.apply(this,arguments)}return Object(St.a)(e,[{key:"render",value:function(){var t=this.props.id;return Object(r.jsxs)(Lt,{children:[Object(r.jsx)(It,{children:"Trailer"}),Object(r.jsx)(zt,{src:"https://www.youtube.com/embed/".concat(t),allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,frameBorder:0})]})}}]),e}(i.Component);function Dt(){var t=Object(q.a)(["\n\tcolor: ;\n\tdisplay: inline-block;\n\tmargin: 0 auto;\n\ttext-align: center;\n\twidth: 20%;\n\tbackground: rgba(0, 0, 0, 0.6);\n\tcolor: #ffb500;\n\tpadding: 1rem;\n\tborder-radius: 5px;\n\tcursor: pointer;\n\ttransition: 0.3s;\n\t&:hover {\n\t\tcolor: white;\n\t}\n"]);return Dt=function(){return t},t}function Ft(){var t=Object(q.a)(["\n\twidth: 100%;\n\ttext-align: center;\n"]);return Ft=function(){return t},t}function Nt(){var t=Object(q.a)(["\n\tmargin: 0;\n\tfont-weight: 600;\n\tmargin: 0.5rem 0;\n\tfont-size: 1.1rem;\n\tcolor: white;\n"]);return Nt=function(){return t},t}function Gt(){var t=Object(q.a)(["\n\tmargin: 0.5rem 0;\n\tcolor: #ffb500;\n"]);return Gt=function(){return t},t}function Vt(){var t=Object(q.a)(["\n\tdisplay: inline-block;\n\twidth: 100%;\n\tpadding: 0 1rem;\n"]);return Vt=function(){return t},t}function Zt(){var t=Object(q.a)(["\n\twidth: 80px;\n\tborder-radius: 3px 0 0 3px;\n\tmargin-right: 1rem;\n\tcolor: #ffb500;\n"]);return Zt=function(){return t},t}function Jt(){var t=Object(q.a)(["\n\tdisplay: inline-flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tcolor: #ffb500;\n\tbackground: rgba(0, 0, 0, 0.6);\n\twidth: 100%;\n\tmargin: 0 auto;\n\tpadding: 0;\n\tborder-radius: 5px;\n"]);return Jt=function(){return t},t}function Yt(){var t=Object(q.a)(["\n\tmargin: 2rem auto;\n\tpadding: 0 1rem;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgrid-row-gap: 1rem;\n\tgrid-column-gap: 1rem;\n\t@media (max-width: 920px) {\n\t\tgrid-template-columns: repeat(1, 1fr);\n\t}\n\t@media (max-width: 760px) {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\t@media (max-width: 630px) {\n\t\tgrid-template-columns: repeat(1, 1fr);\n\t}\n"]);return Yt=function(){return t},t}function Wt(){var t=Object(q.a)(["\n\tmargin-bottom: 2rem;\n\tcolor: '#ffb500';\n\n"]);return Wt=function(){return t},t}var Xt=K.b.div(Wt()),Pt=K.b.div(Yt()),Qt=K.b.div(Jt()),Bt=K.b.img(Zt()),Ht=K.b.div(Vt()),qt=K.b.h3(Gt()),Kt=K.b.h4(Nt()),$t=K.b.div(Ft()),tn=K.b.div(Dt()),nn=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(){var t;Object(kt.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={castCount:6},t.seeMore=function(){var n=t.props.credits,e=t.state.castCount;e!==n.length&&t.setState({castCount:e+10})},t}return Object(St.a)(e,[{key:"render",value:function(){var t=this.props.credits,n=this.state.castCount,e=t.cast.slice(0,n);return Object(r.jsxs)(Xt,{children:[Object(r.jsx)("h2",{id:"cast-crew",style:{color:"#ffb500"},children:"Cast & Crew"}),Object(r.jsx)(Pt,{children:e&&e.map((function(t){return Object(r.jsxs)(Qt,{id:"movie-credit",children:[Object(r.jsx)(Bt,{id:"credit-photo",src:t.profile_path?"".concat("https://image.tmdb.org/t/p/w185").concat(t.profile_path):ht,alt:t.name}),Object(r.jsxs)(Ht,{children:[Object(r.jsx)(qt,{id:"credit-name",children:t.name}),Object(r.jsx)(Kt,{id:"credit-character",children:t.character})]})]},t.credit_id)}))}),n<t.cast.length&&Object(r.jsx)($t,{children:Object(r.jsx)(tn,{onClick:this.seeMore,children:"See More"})})]})}}]),e}(i.Component);function en(){var t=Object(q.a)(["\n\tpadding: 1rem 2rem;\n\tborder-radius: 10px;\n\tborder: solid 3px #ffb500;\n\tfont-size: 1.2rem;\n\tbackground: rgb(30,30,30);\n\tcolor: #ffb500;\n\tmargin: 0 2rem;\n\t:hover {\n\t\tcursor: pointer;\n\t\tbackground: rgb(70,70,70);\n\t}\n"]);return en=function(){return t},t}var rn=K.b.button(en());function on(){var t=Object(q.a)(["\n\tbackground: ",";\n\tcolor: ",";\n\t&:hover {\n\t\tbackground: ",";\n\t\tcolor: ",";\n\t}\n\t&:before {\n\t\topacity: 0.3;\n\t}\n"]);return on=function(){return t},t}function an(){var t=Object(q.a)(["\n\tmargin: 0 0 3.5rem 0;\n\tborder: none;\n\twidth: 100%;\n\tposition: relative;\n\ttransition: 0.2s;\n\t&:before {\n\t\tcontent: '\u2665';\n\t\tposition: absolute;\n\t\tleft: 5rem;\n\t\ttop: 0.6rem;\n\t\tfont-size: 1.8rem;\n\t}\n"]);return an=function(){return t},t}function cn(){var t=Object(q.a)(["\n\tdisplay: inline-flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 2rem 1rem;\n\tmargin: 2rem 0;\n\tborder-radius: 12px;\n\tbackground: rgba(0, 0, 0, 0.4);\n\tmax-width: 100%;\n\ttext-align: center;\n\th4 {\n\t\tcolor: ",";\n\t\tmargin: 0;\n\t}\n\th3 {\n\t\tmargin: 0.8rem 0;\n\t}\n\timg {\n\t\tborder-radius: 3px;\n\t}\n"]);return cn=function(){return t},t}function sn(){var t=Object(q.a)(["\n\tposition: fixed;\n\ttop: 9.5rem;\n\tleft: 0;\n\tcursor: pointer;\n\ttransition: 0.3s;\n\topacity: 0.5;\n\tpadding: 1rem;\n\tsvg {\n\t\tstroke: ",";\n\t\tstroke-width: 3;\n\t}\n\t&:hover {\n\t\topacity: 1;\n\t\tsvg {\n\t\t\tstroke: ",";\n\t\t}\n\t}\n"]);return sn=function(){return t},t}function un(){var t=Object(q.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 3.125rem;\n\twidth: 3.125rem;\n\tborder-radius: 22px;\n\tfont-size: 1.9rem;\n\tfont-weight: 400;\n\ttransition: 0.3s;\n\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\n\tbackground: #111;\n\tcolor: #eee;\n\tborder: 1px solid ",";\n\t:hover {\n\t\tcursor: pointer;\n\t\tbackground: ",";\n\t}\n"]);return un=function(){return t},t}function dn(){var t=Object(q.a)(["\n\tcolor: ",";\n\t@media (min-width: 760px) {\n\t\tdisplay: none;\n\t}\n"]);return dn=function(){return t},t}function ln(){var t=Object(q.a)(["\n\tfont-size: 1.9rem;\n\ttext-shadow: 1px 6px 2px #000;\n\tcolor: ",";\n\t@media (max-width: 760px) {\n\t\tdisplay: none;\n\t}\n"]);return ln=function(){return t},t}function bn(){var t=Object(q.a)(["\n\tdisplay: inline-block;\n\ttext-shadow: 1px 6px 10px #000;\n\tmargin-bottom: 1rem;\n\twidth: auto;\n\th4 {\n\t\tcolor: white;\n\t\tfont-size: 1.2rem;\n\t\tfont-weight: 500;\n\t\tmargin: 0.4rem 0;\n\t}\n"]);return bn=function(){return t},t}function pn(){var t=Object(q.a)(["\n\tcolor: white;\n\ttext-align: left;\n\tfont-size: 1.2rem;\n\tfont-weight: 400;\n\tborder-radius: 10px;\n\tline-height: 1.4;\n\n"]);return pn=function(){return t},t}function hn(){var t=Object(q.a)(["\n\tcolor: white;\n\tfont-weight: bold;\n\ttext-align: left;\n\tmargin-bottom: 2.5rem;\n\tspan {\n\t\tcolor: ",";\n\t\tfont-size: 1.1rem;\n\t}\n\th3 {\n\t\tmargin: .5rem;\n\t\tfont-size: 1.6rem;\n\t\tfont-weight: 400;\n\t}\n"]);return hn=function(){return t},t}function fn(){var t=Object(q.a)(["\n\tdisplay: flex;\n\tcolor: ",";\n\tfont-size: 1.4rem;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto 1rem;\n\tpadding: 0.4rem 0rem 1rem 0.2rem;\n\ttext-align: center;\n\tborder-radius: 22px;\n\tdiv {\n\t\tmargin-top: 0.5rem;\n\t}\n"]);return fn=function(){return t},t}function mn(){var t=Object(q.a)(["\n\tdisplay: inline-block;\n\tjustify-content: center;\n\tbackground: rgba(0, 0, 0, 0.6);\n\tborder-radius: 5px;\n\tcolor: ",";\n\tpadding: 0.5rem 0.5rem;\n\tmargin: 0.2rem;\n\ttext-align: center;\n\t:last-child {\n\t\tmargin-bottom: 2rem;\n\t}\n"]);return mn=function(){return t},t}function jn(){var t=Object(q.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmax-height: 100vh; */}\n\tmax-width: auto;\n\tmargin: 0 0rem 5rem 10rem;\n\t\n\t@media (max-width: 760px) {\n\t\tmargin: 0 auto;\n\t}\n"]);return jn=function(){return t},t}function gn(){var t=Object(q.a)(["\n\tposition: relative;\n\tdisplay: column;\n\tmargin: 0 5rem 0 10rem;\n\t","\n\t","\n\th1 {\n\t\tmargin-bottom: 0.4rem;\n\t}\n\t@media (max-width: 760px) {\n\t\tpadding: 0;\n\t}\n"]);return gn=function(){return t},t}function vn(){var t=Object(q.a)(["\n\tbackground-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(10, 10, 10, 1));\n\tmargin: 1 rem;\n\tdisplay: flex;\n\ttext-align: left;\n\tcolor: '#ffb500';\n\tpadding: 8rem 5%;\n\tjustify-content: center;\n\t@media (max-width: 760px) {\n\t\tdisplay: flex;\n\t}\n\t@media (max-width: 360px) {\n\t\tpadding: 6rem 1rem;\n\t}\n"]);return vn=function(){return t},t}function On(){var t=Object(q.a)(["\n\tposition: absolute;\n\theight: 100%;\n\twidth: 100vw;\n\tbackground: url(",") center center no-repeat;\n\tbackground-size: cover;\n\tz-index: -1;\n\t\n"]);return On=function(){return t},t}function xn(){var t=Object(q.a)(["\n\tposition: relative;\n"]);return xn=function(){return t},t}var yn=K.b.div(xn()),wn=K.b.div(On(),(function(t){return t.backdrop})),kn=K.b.div(vn()),Sn=K.b.div(gn(),"",""),Rn=K.b.div(jn()),An=K.b.div(mn(),$),Cn=K.b.div(fn(),$),_n=K.b.div(hn(),$),En=K.b.p(pn()),Mn=K.b.div(bn()),Tn=Object(K.b)(Mn)(ln(),$),Ln=Object(K.b)(Mn)(dn(),$),In=(K.b.button(un(),$,$),K.b.div(sn(),$,$)),zn=K.b.div(cn(),$),Un=Object(K.b)(rn)(an()),Dn=Object(K.b)(Un)(on(),$,"#1e1e1e",$,tt),Fn="https://image.tmdb.org/t/p/w1280",Nn=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(){var t;Object(kt.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={id:"",movie:{},credits:{},videos:[],trailer:{},Background:"",loading:!0},t.componentDidMount=function(){t.setState({id:t.props.match.params.id}),t.setMovie()},t.setMovie=Object(P.a)(X.a.mark((function n(){var e,r,i,o;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.state.id,n.prev=1,n.next=4,fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&append_to_response=credits,videos"));case 4:return r=n.sent,n.next=7,r.json();case 7:i=n.sent,o=i.videos.results.filter((function(t){return"YouTube"===t.site&&"Trailer"===t.type}))[0],t.setState({movie:i,credits:i.credits,videos:i.videos.results,trailer:o,loading:!1}),window.scrollTo(0,0),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])}))),t}return Object(St.a)(e,[{key:"componentDidUpdate",value:function(t,n){t.match.params.id!==this.props.match.params.id&&this.setMovie()}},{key:"render",value:function(){var t,n=this,e=this.state,o=e.movie,a=e.credits,c=e.loading,s=e.trailer,u=this.props,d=u.history,l=u.favorite,b=u.auth;a.crew&&(t=a.crew.filter((function(t){return"Director"===t.job}))[0]);var p=!1;return l.favorite.forEach((function(t){t.id&&(p=!0)})),Object(r.jsxs)(yn,{children:[c,!c&&o&&!o.status_code&&Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(wn,{backdrop:Object.keys(o).length&&"".concat(Fn).concat(o.backdrop_path)}),console.log(Fn),console.log(o.backdrop_path),Object(r.jsxs)(kn,{children:[Object(r.jsxs)(Rn,{children:[Object(r.jsxs)(Ln,{children:[Object(r.jsx)("h1",{id:"movie-title",style:{display:"inline"},children:o.title}),Object(r.jsx)("h4",{id:"movie-tagline",children:o.tagline})]}),Object(r.jsx)(gt,{id:"movie-poster",src:Object.keys(o).length&&"".concat("https://image.tmdb.org/t/p/w300").concat(o.poster_path),alt:o.title}),Object(r.jsx)(Cn,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{id:"vote-average",children:o.vote_average}),"/10",Object(r.jsxs)("span",{style:{margin:"1rem",fontSize:"1.1rem",color:"#ffb500"},children:["(",Object(r.jsx)("span",{id:"vote-count",children:o.vote_count})," ","votes)"]})]})}),Object(r.jsx)("div",{children:!0===p?Object(r.jsx)(Dn,{onClick:function(){n.props.removeFavorite(o.id)},children:"Remove Favorite"}):Object(r.jsx)(Un,{onClick:function(){b.isAuthenticated?n.props.favoriteMovie(o):d.push("/login")},children:"Favorite"})}),Object(r.jsx)("div",{children:o.genres&&o.genres.map((function(t){return Object(r.jsx)(An,{id:"movie-genre",children:t.name},t.name)}))}),Object(r.jsxs)(_n,{children:[Object(r.jsx)("span",{children:"Released:"}),Object(r.jsx)("h3",{id:"movie-release-date",children:o.release_date})]}),Object(r.jsxs)(_n,{children:[Object(r.jsx)("span",{children:"Director"}),Object(r.jsx)("h3",{children:t.name})]}),Object(r.jsxs)(_n,{children:[Object(r.jsx)("span",{children:"Runtime:"}),Object(r.jsxs)("h3",{id:"movie-runtime",children:[o.runtime,"min"]})]}),0!==o.budget&&Object(r.jsxs)(_n,{children:[Object(r.jsx)("span",{children:"Budget:"}),Object(r.jsxs)("h3",{id:"movie-budget",children:["$",_t()(o.budget)]})]}),0!==o.revenue&&Object(r.jsxs)(_n,{children:[Object(r.jsx)("span",{children:"Revenue:"}),Object(r.jsxs)("h3",{id:"movie-revenue",children:["$",_t()(o.revenue)]})]}),o.belongs_to_collection&&Object(r.jsxs)(zn,{children:[Object(r.jsx)("h4",{children:"Part of"}),Object(r.jsx)("h3",{children:o.belongs_to_collection.name}),Object(r.jsx)("img",{src:o.belongs_to_collection.poster_path?"".concat("https://image.tmdb.org/t/p/w154").concat(o.belongs_to_collection.poster_path):ht,alt:o.belongs_to_collection.name})]})]}),Object(r.jsxs)(Sn,{children:[Object(r.jsxs)(Tn,{children:[Object(r.jsx)("h1",{id:"movie-title",style:{display:"inline"},children:o.title}),Object(r.jsx)("h4",{id:"movie-tagline",children:o.tagline})]}),Object(r.jsx)(En,{id:"movie-overview",children:o.overview}),s&&Object(r.jsx)(Ut,{id:s.key}),Object(r.jsx)(nn,{credits:a})]})]})]}),!c&&o&&34===o.status_code&&Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)("h2",{id:"movie-title",style:{marginTop:"6rem"},children:"Movie not found!"}),Object(r.jsx)(In,{onClick:d.goBack,children:"<"})]})]})}}],[{key:"getDerivedStateFromProps",value:function(t,n){return t.match.params.id!==n.id?{id:t.match.params.id}:null}}]),e}(i.Component);Nn.contextTypes={router:function(){return null}};var Gn=Object(s.b)((function(t){return{auth:t.auth,favorite:t.favorite,errors:t.errors}}),{favoriteMovie:function(t){return function(n){return V.a.patch("/api/favorites/add",t).then((function(t){return n({type:h,payload:t.data})})).catch((function(t){return n({type:b,payload:t.response.data})}))}},removeFavorite:function(t){return function(n){return V.a.delete("/api/favorites/".concat(t)).then((function(t){return n({type:f,payload:t.data})})).catch((function(t){return n({type:b,payload:t.response.data})}))}}})(Object(F.g)(Nn)),Vn=e(48),Zn=e.n(Vn),Jn=function(){return{type:x}},Yn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"popularity.desc";return function(r){r(Jn());var i,o=100;"vote_average.desc"===e&&(o=500),i=n?"https://api.themoviedb.org/3/search/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&query=".concat(n,"&page=").concat(t,"&include_adult=false"):"https://api.themoviedb.org/3/discover/movie?api_key=f1b89107537867c1b021fa9fe5da19b8&language=en-US&sort_by=".concat(e,"&include_adult=false&include_video=false&page=").concat(t,"&vote_count.gte=").concat(o),V.a.get(i).then((function(t){return r({type:m,payload:t.data})})).catch((function(t){return r({type:b,payload:t.response.data})}))}},Wn=function(t){return function(n){n({type:g,payload:t})}},Xn=function(t){return function(n){return n({type:v,payload:t})}},Pn=function(t){return function(n){n({type:O,payload:t})}},Qn=function(){var t=Object(P.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(){var t=Object(P.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wn(1);case 2:return t.next=4,Xn("");case 4:return t.next=6,Pn("popularity.desc");case 6:Yn();case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Bn(){var t=Object(q.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tfont-size: 1rem;\n\tmargin: 0;\n\tmargin-right: 3rem;\n"]);return Bn=function(){return t},t}function Hn(){var t=Object(q.a)(["\n    color: rgb(255, 255, 255);\n\ttext-decoration: none;\n\tfont-weight: 600;\n\tpadding: 1rem;\n\ttransition: 0.3s;\n\t:hover {\n\t\tcolor: #ffb500;\n\t}\n\t@media (max-width: 800px) {\n\t\tdisplay: none;\n\t}\n"]);return Hn=function(){return t},t}function qn(){var t=Object(q.a)(["\n        background-color: rgb(30, 30, 30);\n        display: flex;\n        height: 8rem;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: calc(10px + 2vmin);\n        color: rgb(255, 255, 255,);\n        width: 100%;\n        transition: 0.3s;\n        z-index: 999;\n        ",";\n"]);return qn=function(){return t},t}var Kn=K.b.div(qn(),(function(t){return t.sticky?"\n            transform: translateY(0);\n            top: 0;\n            position: fixed;\n            box-shadow: 0 3px 6px rgba(0,0,0,0.3);\n            ":"\n            position: absolute;\n            transform: translateY(-4.8rem);\n\t\t"})),$n=Object(K.b)(D.b)(Hn()),te=K.b.div(Bn());function ne(){var t=Object(q.a)(["\n\t\n\tmax-height: 150px;\n\tmax-width: 600px;\n\theight: auto;\n\twidth: auto;\n"]);return ne=function(){return t},t}function ee(){var t=Object(q.a)(["\n\tmargin-left: 1.2rem;\n\tmargin-top: 1rem;\n\tmax-height: 100vh;\n\tmax-width: auto;\n\theight: 7rem;\n\t\n"]);return ee=function(){return t},t}function re(){var t=Object(q.a)(["\n\tdisplay: flex;\n\talign-items: space-evenly\n"]);return re=function(){return t},t}var ie=K.b.div(re()),oe=K.b.img(ee()),ae=K.b.img(ne()),ce=function(){return Object(r.jsxs)(ie,{children:[Object(r.jsx)(oe,{id:"goat",src:"https://res.cloudinary.com/gregdusek/image/upload/v1609810374/GOATflix/goat_nnchqt.png",alt:""}),Object(r.jsx)(ae,{id:"words",src:"https://res.cloudinary.com/gregdusek/image/upload/v1612079771/GOATflix/wordlogo_ykvghy.png",alt:""})]})};function se(){var t=Object(q.a)(["\n\theight: 85%;\n\twidth: 85%;\n"]);return se=function(){return t},t}function ue(){var t=Object(q.a)(["\n\tposition: absolute;\n\tleft: 1rem;\n\ttop: 9px;\n\tcursor: text;\n"]);return ue=function(){return t},t}function de(){var t=Object(q.a)(["\n\tborder-radius: 22px;\n\tbackground: rgb(70, 70, 70);\n\tcolor: #ffb500;\n\tborder: 3px solid #ffb500;\n\theight: 50px;\n\tfont-size: 1.3rem;\n\tpadding-left: 3.5rem;\n\t}\n\n\t@media (max-width: 650px) {\n\t\tmax-width: 44px;\n\t\tmargin-right: -1rem;\n\t}\n\t\n\t&::placeholder {\n\t\tcolor: rgb(255,255,255);\n\t}\n"]);return de=function(){return t},t}function le(){var t=Object(q.a)(["\n\tposition: relative;\n\tmargin-right: 2rem;\n"]);return le=function(){return t},t}var be=K.b.form(le()),pe=K.b.input(de()),he=K.b.div(ue()),fe=K.b.img(se()),me=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(t){var r;return Object(kt.a)(this,e),(r=n.call(this,t)).state={input:""},r.handleChange=function(t){r.setState({input:t.target.value})},r.inputRef=o.a.createRef(),r}return Object(St.a)(e,[{key:"render",value:function(){var t=this,n=this.state.input,e=this.props,i=e.onSubmit,o=e.history;return Object(r.jsxs)(be,{id:"searchbutton-form",onSubmit:function(t){return i(t,n,o)},onClick:function(){return t.inputRef.current.focus()},children:[Object(r.jsx)(pe,{id:"searchbutton-field",type:"text",value:n,onChange:this.handleChange,ref:this.inputRef,placeholder:"Search...","aria-label":"Search"}),Object(r.jsx)(he,{children:Object(r.jsx)(fe,{id:"search-icon",src:"https://res.cloudinary.com/gregdusek/image/upload/v1609890114/GOATflix/search_icon_mpdoc3.png",alt:""})})]})}}]),e}(i.Component);me.defaultProps={onSubmit:function(t,n,e){t.preventDefault(),""!==n&&e.push("/search=".concat(n))}};var je=Object(F.g)(me);function ge(){var t=Object(q.a)(["\n\tbackground: rgb(70,70,70);\n\twidth: 20px;\n\theight: 20px;\n\tposition: absolute;\n\ttop: -18px;\n\tright: 22px;\n\tclip-path: polygon(50% 40%, 0% 100%, 100% 100%);\n"]);return ge=function(){return t},t}function ve(){var t=Object(q.a)(["\n\tfont-weight: 600;\n\tpadding: 0.5rem;\n\tfont-size: 0.9rem;\n\tcursor: pointer;\n\tcolor: rgb(30, 30, 30);\n\t&:hover,\n\t&:hover a {\n\t\tbackground: rgb(75, 75, 75);\n\t\tcolor: #ffb500;\n\t}\n\ta {\n\t\tdisplay: inline-block;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tcolor: rgb(30, 30, 30);\n\t\ttext-decoration: none;\n\t}\n"]);return ve=function(){return t},t}function Oe(){var t=Object(q.a)([""]);return Oe=function(){return t},t}function xe(){var t=Object(q.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: space-around;\n\twidth: 200px;\n\theight: 100px;\n\tposition: absolute;\n\tbottom: -133px;\n\tright: -1rem;\n\tbackground: #fff;\n\tborder-radius: 3px;\n\tbox-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);\n"]);return xe=function(){return t},t}function ye(){var t=Object(q.a)(["\n\t// padding: 0 2rem;\n\twidth: 30px;\n\theight: 20px;\n\tposition: relative;\n\tbox-sizing: content-box;\n\tcursor: pointer;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\talign-items: center;\n\tdiv {\n\t\twidth: 100%;\n\t\theight: 4px;\n\t\tbackground: #ffb500;\n\t\tborder-radius: 10px;\n\t}\n"]);return ye=function(){return t},t}function we(){var t=Object(q.a)(["\n\tposition: relative;\n\t@media (min-width: 800px) {\n\t\tdisplay: none;\n\t}\n"]);return we=function(){return t},t}var ke=K.b.div(we()),Se=K.b.div(ye()),Re=K.b.div(xe()),Ae=(K.b.div(Oe()),K.b.div(ve())),Ce=K.b.div(ge()),_e=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(){var t;Object(kt.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={open:!1},t.onToggle=function(){return t.setState((function(t){return{open:!t.open}}))},t}return Object(St.a)(e,[{key:"render",value:function(){var t=this.state.open;return Object(r.jsxs)(ke,{children:[Object(r.jsxs)(Se,{onClick:this.onToggle,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]}),t&&Object(r.jsxs)(Re,{children:[Object(r.jsx)(Ae,{children:Object(r.jsx)(D.b,{to:"/register",onClick:this.onToggle,children:"Register"})}),Object(r.jsx)(Ae,{children:Object(r.jsx)(D.b,{to:"/login",onClick:this.onToggle,children:"Login"})}),Object(r.jsx)(Ce,{})]})]})}}]),e}(i.Component),Ee=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(t){var r;return Object(kt.a)(this,e),(r=n.call(this,t)).componentDidMount=function(){window.addEventListener("scroll",Zn.a.throttle(r.onScroll,300))},r.componentWillUnmount=function(){window.removeEventListener("scroll",Zn.a.throttle(r.onScroll,300))},r.onScroll=function(){var t=r.state,n=t.sticky,e=t.prevScrollPosition;!n&&window.scrollY>176&&window.scrollY<e&&r.setState({sticky:!0}),n&&(window.scrollY<176||window.scrollY>e)&&r.setState({sticky:!1}),r.setState({prevScrollPosition:window.scrollY})},r.resetList=function(){},r.state={sticky:!1,prevScrollPosition:0},r.navref=o.a.createRef(),r}return Object(St.a)(e,[{key:"render",value:function(){var t=this.props.auth,n=t.isAuthenticated,e=t.user,o=this.props,a=o.logoutUser,c=o.resetMoviesList,s=o.history,u=this.state.sticky;return Object(r.jsxs)(Kn,{ref:this.navRef,sticky:u,children:[Object(r.jsx)(D.b,{to:"/",children:Object(r.jsx)(ce,{onClick:c})}),Object(r.jsxs)(te,{children:[Object(r.jsx)(je,{}),n?Object(r.jsx)(_e,{user:e,onLogout:function(){return a(s)}}):Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)($n,{to:"/login",children:"Login"}),Object(r.jsx)($n,{to:"/register",children:"Register"}),Object(r.jsx)(_e,{})]})]})]})}}]),e}(i.Component),Me=Object(s.b)((function(t){return{auth:t.auth}}),{logoutUser:Y,resetMoviesList:Qn})(Object(F.g)(Ee)),Te=e(30);function Le(){var t=Object(q.a)(["\n\tcolor: #ffb500;\n\tdisplay: block;\n\tbottom: -1rem;\n\tfont-size: 1.1rem;\n"]);return Le=function(){return t},t}function Ie(){var t=Object(q.a)(["\n\tdisplay: block;\n\tmargin: 2rem 0;\n\ttext-align: center;\n\tmargin-bottom: 1rem;\n\tposition: relative;\n\t&:first-child {\n\t\tmargin-top: 3rem;\n\t}\n\t&:last-of-type {\n\t\tmargin-bottom: 3rem;\n\t}\n\tinput {\n\t\tbackground: #111;\n\t\twidth: 90%;\n\t\tmax-width: 430px;\n\t\tpadding: 0.8rem;\n\t\tborder-radius: 3px;\n\t\tbox-shadow: none;\n\t\tborder-style: solid;\n\t\tfont-size: 1.1rem;\n\t\tborder: none;\n\t\tcolor: #ffb500;\n\t\t&:focus,\n\t\t&:hover {\n\t\t\tbackground: rgb(30, 30, 30);\n\t\t}\n\t}\n"]);return Ie=function(){return t},t}var ze=K.b.label(Ie()),Ue=K.b.small(Le()),De=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(){return Object(kt.a)(this,e),n.apply(this,arguments)}return Object(St.a)(e,[{key:"render",value:function(){var t=this.props,n=t.name,e=t.holderName,i=t.type,o=t.value,a=t.onChange,c=t.errors;return Object(r.jsxs)(ze,{htmlFor:n,children:[Object(r.jsx)("input",{name:n,type:i,value:o,placeholder:e,onChange:a}),c[n]&&Object(r.jsx)(Ue,{children:c[n]})]})}}]),e}(i.Component);function Fe(){var t=Object(q.a)(["\n\tdisplay: inline-block;\n\tmargin-top: 2rem;\n\tfont-size: 1.1rem;\n\ta {\n\t\tcolor: #ffb500;\n\t}\n"]);return Fe=function(){return t},t}De.defaultProps={type:"text"};var Ne=K.b.div(Fe()),Ge=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(){var t;Object(kt.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={name:"",email:"",password:"",password2:"",errors:{}},t.handleChange=function(n){var e=n.target,r=e.name,i=e.value;t.setState(Object(Te.a)({},r,i))},t.handleSubmit=function(n){n.preventDefault();var e=t.state,r={name:e.name,email:e.email,password:e.password,password2:e.password2};t.props.registerUser(r,t.props.history)},t}return Object(St.a)(e,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(t){t.errors&&this.setState({errors:t.errors})}},{key:"render",value:function(){var t=this.state,n=t.name,e=t.email,i=t.password,o=t.password2,a=t.errors;return Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("h1",{children:"Register"}),Object(r.jsx)(Ne,{children:Object(r.jsx)(D.b,{to:"/login",children:"Already registered?"})}),Object(r.jsx)(De,{name:"name",holderName:"Name",value:n,onChange:this.handleChange,errors:a}),Object(r.jsx)(De,{name:"email",holderName:"Email",type:"email",value:e,onChange:this.handleChange,errors:a}),Object(r.jsx)(De,{name:"password",holderName:"Password",type:"password",value:i,onChange:this.handleChange,errors:a}),Object(r.jsx)(De,{name:"password2",holderName:"Confirm Password",type:"password",value:o,onChange:this.handleChange,errors:o}),Object(r.jsx)(rn,{type:"submit",children:"Submit"})]})}}]),e}(i.Component),Ve=Object(s.b)((function(t){return{auth:t.auth,errors:t.errors}}),{registerUser:function(t,n){return function(e){return V.a.post("api/auth/register",t).then((function(){return n.push("/login")})).catch((function(t){return e({type:b,payload:t.response.data})}))}}})(Object(F.g)(Ge)),Ze=function(t){Object(Rt.a)(e,t);var n=Object(At.a)(e);function e(){var t;Object(kt.a)(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={email:"",password:"",errors:{}},t.handleChange=function(n){var e=n.target,r=e.name,i=e.value;t.setState(Object(Te.a)({},r,i))},t.handleSubmit=function(n){n.preventDefault();var e=t.state,r={email:e.email,password:e.password};t.props.loginUser(r,t.props.history)},t}return Object(St.a)(e,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/favorite")}},{key:"componentWillReceiveProps",value:function(t){t.errors&&this.setState({errors:t.errors})}},{key:"render",value:function(){var t=this.state,n=t.email,e=t.password,i=t.errors;return Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)(Ne,{children:Object(r.jsx)(D.b,{to:"/register",children:"Not registered?"})}),Object(r.jsx)(De,{name:"email",holderName:"Email",value:n,onChange:this.handleChange,errors:i}),Object(r.jsx)(De,{name:"password",holderName:"Password",value:e,type:"password",onChange:this.handleChange,errors:i}),Object(r.jsx)(rn,{type:"submit",children:"Submit"})]})}}]),e}(i.Component),Je=Object(s.b)((function(t){return{auth:t.auth,errors:t.errors}}),{loginUser:function(t,n){return function(e){return V.a.post("api/auth/login",t).then((function(t){var n=t.data.token;localStorage.setItem("jwtToken",n),Z(n);var r=Object(N.a)(n);e(J(r))})).then((function(){return n.push("/favorites")})).catch((function(t){return e({type:b,payload:t.response.data})}))}}})(Object(F.g)(Ze));function Ye(){var t=Object(q.a)(['\n  *, *:before, *:after {\n    box-sizing: border-box;\n    outline-color: #ffb500;\n  }\n  body {\n    background: rgb(60, 60, 60);\n    color: rgb (70, 70, 70);\n    margin: 0;\n    padding: 0;\n    font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n  h1 {\n    margin-top: 3rem;\n  }\n  a {\n    text-decoration: none;\n  }\n']);return Ye=function(){return t},t}function We(){var t=Object(q.a)(["\n\ttext-align: center;\n\tpadding-top: 4.8rem;\n"]);return We=function(){return t},t}var Xe=K.b.div(We()),Pe=Object(K.a)(Ye());if(localStorage.jwtToken){Z(localStorage.jwtToken);var Qe=Object(N.a)(localStorage.jwtToken),Be=Date.now()/1e3;Qe.exp<Be?(I.dispatch(Y()),window.location.href="/login"):(I.dispatch(J(Qe)),I.dispatch((function(t){return V.a.get("/api/favorites").then((function(n){t({type:p,payload:n.data})})).catch((function(n){return t({type:b,payload:n.response.data})}))})))}var He=function(){return Object(r.jsx)(D.a,{children:Object(r.jsxs)(Xe,{children:[Object(r.jsx)(Pe,{}),Object(r.jsx)(Me,{}),Object(r.jsxs)(F.d,{children:[Object(r.jsx)(F.b,{exact:!0,path:"/",component:wt}),Object(r.jsx)(F.b,{exact:!0,path:"/p=:page",component:wt}),Object(r.jsx)(F.b,{exact:!0,path:"/search=:query",component:wt}),Object(r.jsx)(F.b,{exact:!0,path:"/login",component:Je}),Object(r.jsx)(F.b,{exact:!0,path:"/register",component:Ve}),Object(r.jsx)(F.b,{exact:!0,path:"/favorite",render:function(){return Object(r.jsx)(wt,{showFavorite:!0})}}),Object(r.jsx)(F.b,{path:"/search=:query/p=:page",component:wt}),Object(r.jsx)(F.b,{path:"/:id",component:Gn})]})]})})},qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ke(t,n){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(t)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(t)))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}e(102).config();var $e=new z.a,tr=document.getElementById("root");c.a.render(Object(r.jsx)(s.a,{store:I,children:Object(r.jsx)(D.a,{children:Object(r.jsx)(U.a,{client:$e,children:Object(r.jsx)(He,{})})})}),tr),function(t){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");qe?(!function(t,n){fetch(t).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):Ke(t,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):Ke(n,t)}))}}()},61:function(t,n){t.exports=function(t){return void 0===t||null===t||"object"===typeof t&&0===Object.keys(t).length||"string"===typeof t&&0===t.trim().length}}},[[105,1,2]]]);
//# sourceMappingURL=main.739974ed.chunk.js.map